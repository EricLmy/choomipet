# Choomi硬件端开发需求文档

## 项目简介

本文档定义了Choomi（啾米）桌面宠物硬件端的详细开发需求。硬件端基于ESP32-C6开发板，作为纯执行器负责基础I/O操作，包括音频采集播放、LCD显示控制、按键交互和网络通信等功能。

## 硬件架构设计

### 核心控制器
- **主控芯片**: ESP32-C6
- **工作频率**: 160MHz
- **内存**: 512KB SRAM + 4MB Flash
- **无线连接**: WiFi 6 (802.11ax) + Bluetooth 5.0

### 硬件模块组成
1. **音频模块**: I2S数字麦克风（INMP441麦克风） + I2S功放扬声器（MAX98357A功放）
2. **显示模块**: 1.47英寸SPI接口LCD屏幕 (ST7789驱动)， 172×320的分辨率，262K彩色
3. **交互模块**: 3个物理按键 (音量+、音量-、功能键)
4. **状态指示模块**: WS2812B RGB LED状态指示灯
5. **电源模块**: USB供电 + 锂电池备用电源
6. **网络模块**: WiFi无线通信

## 详细硬件连接设计

### GPIO引脚分配表

| 功能模块 | GPIO引脚 | 信号名称 | 方向 | 描述 |
|---------|----------|----------|------|------|
| **I2S音频** | GPIO4 | I2S_BCLK | OUT | I2S位时钟 |
| | GPIO5 | I2S_WS | OUT | I2S字选择时钟 |
| | GPIO18 | I2S_DIN | IN | 麦克风数据输入 |
| | GPIO19 | I2S_DOUT | OUT | 扬声器数据输出 |
| **SPI显示** | GPIO7 | SPI_CLK | OUT | SPI时钟信号 (SCL) |
| | GPIO6 | SPI_MOSI | OUT | SPI数据输出 (SDA) |
| | GPIO14 | LCD_CS | OUT | LCD片选信号 |
| | GPIO15 | LCD_DC | OUT | LCD数据/命令选择 |
| | GPIO21 | LCD_RST | OUT | LCD复位信号 |
| | GPIO22 | LCD_BL | OUT | LCD背光控制 |
| **按键输入** | GPIO1 | BTN_VOL_UP | IN | 音量增加按键 |
| | GPIO2 | BTN_VOL_DOWN | IN | 音量减少按键 |
| | GPIO3 | BTN_FUNC | IN | 功能按键 |
| **电源管理** | GPIO9 | BAT_ADC | IN | 电池电压检测 |
| **状态指示** | GPIO8 | RGB_LED | OUT | WS2812B RGB状态指示灯 |
| **扩展接口** | GPIO20 | SPARE_1 | I/O | 预留扩展引脚1 |
| | GPIO23 | SPARE_2 | I/O | 预留扩展引脚2 |

**注意事项：**
- GPIO0为ESP32-C6的启动引脚，启动时需要保持高电平，因此不用作按键输入
- 可用IO引脚：GPIO1,GPIO2,GPIO3,GPIO4,GPIO5,GPIO8,GPIO9,GPIO18,GPIO19,GPIO20,GPIO23
- LCD接口已按实际硬件连接进行分配：D/C→GPIO15, CS→GPIO14, SCL→GPIO7, SDA→GPIO6, RESET→GPIO21, BLK→GPIO22

### 引脚分配变更说明

#### 变更内容
1. **按键输入引脚调整**：
   - 新设计：GPIO1(音量+)、GPIO2(音量-)、GPIO3(功能键)
   - **变更原因**：GPIO0为ESP32-C6启动引脚，启动时必须保持高电平，不适合用作按键输入

2. **LCD接口引脚确认**：
   - 根据实际硬件连接确认LCD接口引脚分配
   - 确保与实际PCB设计一致

3. **状态指示灯引脚**：
   - GPIO8连接WS2812B-0807 RGB LED作为状态指示灯
   - 支持多种颜色状态显示，提供直观的设备状态反馈

4. **预留扩展引脚**：
   - 新增GPIO20、GPIO23作为预留扩展引脚
   - 为后续功能扩展提供硬件支持

#### 硬件兼容性考虑
1. **启动引脚处理**：GPIO0在启动时需要保持高电平，可通过外部上拉电阻确保正常启动
2. **引脚复用冲突**：避免SPI、I2S等专用引脚与其他功能冲突
3. **电源域匹配**：确保所有GPIO引脚工作在3.3V电源域
4. **信号完整性**：高速信号（SPI时钟）与低速信号（按键）分离布线

### 硬件连接原理图说明

#### 1. I2S音频系统连接
```
ESP32-C6          INMP441麦克风
GPIO4 (BCLK) ---> SCK
GPIO5 (WS)   ---> WS  
GPIO18(DIN)  <--- SD
3.3V         ---> VDD
GND          ---> GND

ESP32-C6          MAX98357A功放
GPIO4 (BCLK) ---> BCLK
GPIO5 (WS)   ---> LRC
GPIO19(DOUT) ---> DIN
5V           ---> VIN
GND          ---> GND

MAX98357A         8Ω/3W扬声器
OUT+         ---> Speaker+
OUT-         ---> Speaker-
```

#### 2. SPI LCD显示系统连接
```
ESP32-C6          1.47" ST7789 LCD
GPIO7 (CLK)  ---> SCL
GPIO6 (MOSI) ---> SDA
GPIO14(CS)   ---> CS
GPIO15(DC)   ---> DC
GPIO21(RST)  ---> RES
GPIO22(BL)   ---> BLK
3.3V         ---> VCC
GND          ---> GND
```

#### 3. 按键输入系统连接
```
ESP32-C6          按键开关
GPIO1        ---> 音量+按键 ---> GND (内部上拉)
GPIO2        ---> 音量-按键 ---> GND (内部上拉)
GPIO3        ---> 功能按键   ---> GND (内部上拉)

注意：GPIO0为启动引脚，启动时需要保持高电平，因此改用GPIO1-3作为按键输入
```

#### 4. 状态指示灯系统连接
```
ESP32-C6          WS2812B-0807 RGB LED
GPIO8 (DIN)  ---> DI (数据输入)
3.3V         ---> VDD
GND          ---> GND
             ---> DO (数据输出，可级联更多LED)
```

#### 5. 电源管理系统
```
USB 5V ---> LDO稳压器 ---> 3.3V ---> ESP32-C6
        |                    |
        +--> 充电IC ---> 锂电池 (3.7V)
                         |
                         +---> 分压电路 ---> GPIO9 (ADC)
```

### 电路设计要求

#### 电源设计
1. **主电源**: USB 5V输入，通过LDO稳压至3.3V
2. **备用电源**: 3.7V锂电池，容量≥1000mAh
3. **充电管理**: 集成USB充电IC，支持过充保护
4. **电量检测**: 通过分压电路将电池电压降至ADC可测量范围

#### 信号完整性设计
1. **I2S信号**: 保持信号线长度一致，添加适当的去耦电容
2. **SPI信号**: 高速信号线需要控制阻抗，添加串联电阻
3. **电源滤波**: 在各模块电源输入端添加滤波电容
4. **接地设计**: 采用单点接地，避免地环路干扰

#### EMC设计考虑
1. **屏蔽设计**: 音频模块需要适当的屏蔽措施
2. **布线规则**: 数字信号与模拟信号分离布线
3. **晶振设计**: 为ESP32-C6提供稳定的时钟源
4. **ESD保护**: 在外部接口添加ESD保护器件

## 需求

### 需求1：硬件连接与电路设计

**用户故事：** 作为硬件开发工程师，我需要设计完整的硬件连接方案，以便各个硬件模块能够正确连接到ESP32-C6并稳定工作。

#### 验收标准

1. 当设计麦克风连接时，系统应当使用I2S接口连接INMP441数字麦克风，采用GPIO4(BCLK)、GPIO5(WS)、GPIO18(DIN)引脚
2. 当设计扬声器连接时，系统应当通过I2S接口连接MAX98357A功放模块驱动8Ω/3W扬声器，使用GPIO19(DOUT)输出音频数据
3. 当设计LCD屏幕连接时，系统应当使用SPI2接口连接1.47英寸ST7789驱动的LCD屏幕，分辨率172x320像素，具体连接为：SCL→GPIO7, SDA→GPIO6, CS→GPIO14, D/C→GPIO15, RESET→GPIO21, BLK→GPIO22
4. 当设计按键连接时，系统应当通过GPIO1、GPIO2、GPIO3连接三个物理按键，支持中断触发和防抖处理（避免使用GPIO0启动引脚）
5. 当设计电源管理时，系统应当支持USB 5V供电和3.7V锂电池备用供电，包含充电管理和电量检测功能
6. 当进行引脚分配时，系统应当避免引脚冲突，预留UART调试接口，并确保启动引脚(GPIO0)的正确使用
7. 当设计PCB布局时，系统应当考虑信号完整性、EMC兼容性和热管理要求
8. 当设计外壳时，系统应当预留USB接口、按键开孔、扬声器声孔和散热孔

### 需求2：WiFi网络连接功能

**用户故事：** 作为用户，我需要设备能够连接到WiFi网络，以便与AI大脑服务器进行通信。

#### 验收标准

1. 当设备首次启动时，系统应当进入WiFi配置模式并显示配置提示
2. 当用户提供WiFi凭据时，系统应当能够连接到2.4GHz和5GHz WiFi网络
3. 当WiFi连接成功时，系统应当在LCD上显示连接状态和IP地址
4. 当WiFi连接断开时，系统应当自动尝试重连并显示重连状态
5. 当WiFi配置错误时，系统应当提供错误提示并允许重新配置
6. 当网络质量差时，系统应当显示信号强度并优化连接参数

### 需求3：LCD显示控制功能

**用户故事：** 作为用户，我需要通过LCD屏幕看到宠物的表情和状态，以便获得视觉反馈和情感互动。

#### 技术规格
- **屏幕规格**: 1.47英寸TFT LCD，分辨率172x320像素
- **驱动芯片**: ST7789V控制器
- **接口类型**: 4线SPI接口 + DC/RST控制线
- **颜色深度**: 16位RGB565格式
- **刷新率**: 支持60Hz刷新率
- **背光控制**: PWM调光，256级亮度调节

#### 验收标准

1. 当系统启动时，LCD应当显示启动画面和初始化状态，背光亮度可调节
2. 当接收到显示指令时，系统应当能够显示静态图像和动态动画，支持RGB565颜色格式
3. 当播放动画时，系统应当保持流畅的帧率（≥15fps），支持双缓冲技术减少闪烁
4. 当显示宠物表情时，系统应当支持多种情绪状态的切换，包括开心、悲伤、愤怒、惊讶等表情
5. 当系统空闲时，系统应当显示默认的待机动画，如眨眼、呼吸灯效果等
6. 当发生错误时，系统应当在LCD上显示相应的错误提示，包括WiFi连接失败、电量不足等状态
7. 当环境光线变化时，系统应当能够自动或手动调节背光亮度
8. 当显示中文字符时，系统应当支持中文字体渲染

### 需求4：麦克风音频采集功能

**用户故事：** 作为用户，我需要通过语音与宠物交互，因此设备需要能够清晰地采集我的语音。

#### 技术规格
- **麦克风型号**: INMP441数字MEMS麦克风
- **接口类型**: I2S数字接口
- **采样率**: 16kHz (支持8kHz-48kHz可配置)
- **位深度**: 16bit
- **信噪比**: ≥65dB
- **频率响应**: 20Hz-20kHz
- **灵敏度**: -26dBFS

#### 验收标准

1. 当用户按下录音按键时，系统应当开始音频采集并在LCD上显示录音状态指示
2. 当进行音频采集时，系统应当以16kHz采样率、16bit深度录制音频，支持单声道输入
3. 当录音过程中，系统应当实时监测音频电平并在LCD上提供可视化音量指示
4. 当录音完成时，系统应当将音频数据缓存并通过WebSocket上传至AI服务器
5. 当环境噪音过大时，系统应当提供软件增益控制和基础噪音抑制算法
6. 当麦克风故障时，系统应当检测I2S数据流异常并在LCD上提示用户
7. 当录音时长超过限制时，系统应当自动停止录音并提示用户
8. 当系统内存不足时，系统应当优化音频缓冲区管理，避免数据丢失

### 需求5：扬声器音频播放功能

**用户故事：** 作为用户，我需要听到宠物的语音回复，因此设备需要能够清晰地播放音频。

#### 技术规格
- **功放芯片**: MAX98357A I2S数字功放
- **扬声器规格**: 8Ω阻抗，3W额定功率
- **接口类型**: I2S数字音频接口
- **采样率**: 16kHz (支持8kHz-48kHz)
- **位深度**: 16bit
- **THD+N**: <1% (1kHz, 1W)
- **音量控制**: 软件音量控制，256级调节

#### 验收标准

1. 当接收到音频播放指令时，系统应当解码音频数据并通过I2S接口驱动MAX98357A功放播放
2. 当播放音频时，系统应当支持16kHz采样率的PCM音频格式，兼容WAV和MP3解码
3. 当播放过程中，系统应当支持256级音量调节和播放控制（播放/暂停/停止）
4. 当音频播放完成时，系统应当发送播放完成状态给AI服务器并更新LCD显示
5. 当扬声器故障时，系统应当检测I2S输出异常并在LCD上提示用户
6. 当同时有多个音频任务时，系统应当按优先级排队播放（系统提示音 > 语音回复 > 背景音乐）
7. 当电池电量低时，系统应当自动降低音量以节省电量
8. 当播放音频时，系统应当在LCD上显示音量条和播放状态

### 需求6：按键交互功能

**用户故事：** 作为用户，我需要通过物理按键与设备交互，以便控制录音、唤醒和其他功能。

#### 技术规格
- **按键数量**: 3个轻触按键
- **按键类型**: 6x6mm轻触开关，行程0.25mm
- **连接方式**: 直接连接GPIO，内部上拉电阻
- **防抖时间**: 50ms软件防抖
- **中断触发**: 下降沿触发中断

#### 按键功能定义
- **音量+按键 (GPIO1)**: 音量增加、菜单向上
- **音量-按键 (GPIO2)**: 音量减少、菜单向下
- **功能按键 (GPIO3)**: 录音/确认、模式切换

**注意**: GPIO0为ESP32-C6启动引脚，启动时需要保持高电平，因此不适合用作按键输入

#### 验收标准

1. 当用户短按功能按键(<1秒)时，系统应当开始录音并在LCD上显示录音状态
2. 当用户长按功能按键(3-5秒)时，系统应当进入WiFi配置模式
3. 当用户超长按功能按键(>10秒)时，系统应当执行恢复出厂设置
4. 当用户按下音量+/-按键时，系统应当调节音量并在LCD上显示音量条
5. 当按键被按下时，系统应当提供LCD视觉反馈和可选的按键音反馈
6. 当按键故障时，系统应当检测GPIO状态异常并提供触摸屏替代操作方式
7. 当系统处于不同模式时，按键功能应当相应调整（正常模式/配置模式/睡眠模式）
8. 当多个按键同时按下时，系统应当正确识别组合键功能

### 需求7：WebSocket通信功能

**用户故事：** 作为系统，我需要与AI大脑服务器保持实时通信，以便接收指令和上传数据。

#### 验收标准

1. 当WiFi连接成功时，系统应当自动建立WebSocket连接到AI大脑服务器
2. 当连接建立后，系统应当发送设备注册信息和状态数据
3. 当接收到服务器指令时，系统应当解析JSON消息并执行相应操作
4. 当需要上传数据时，系统应当将音频、状态等数据打包发送
5. 当连接断开时，系统应当自动重连并恢复通信
6. 当网络延迟过高时，系统应当优化数据传输和缓存策略

### 需求8：RGB状态指示灯功能

**用户故事：** 作为用户，我需要通过RGB状态指示灯快速了解设备的运行状态，以便获得直观的状态反馈。

#### 技术规格
- **LED型号**: WS2812B-0807 RGB LED
- **封装规格**: 0807 (2.0mm x 1.6mm)
- **接口类型**: 单线数字接口
- **控制引脚**: GPIO8
- **供电电压**: 3.3V
- **颜色深度**: 24位真彩色 (8bit R + 8bit G + 8bit B)
- **刷新频率**: 支持高频刷新，实现平滑动画效果

#### 状态指示定义
- **红色**: 错误状态 (WiFi连接失败、硬件故障等)
- **黄色**: 警告状态 (电量不足、网络不稳定等)
- **绿色**: 正常工作状态
- **蓝色**: WiFi配置模式
- **紫色**: 录音状态
- **青色**: 播放音频状态
- **白色**: 系统启动/重置状态
- **呼吸效果**: 待机状态 (绿色呼吸)
- **闪烁效果**: 临时状态提示

#### 验收标准

1. 当系统启动时，RGB LED应当显示白色并逐渐过渡到绿色，表示系统初始化完成
2. 当WiFi连接成功时，RGB LED应当显示绿色常亮，表示设备正常工作
3. 当进入WiFi配置模式时，RGB LED应当显示蓝色闪烁，提示用户进行网络配置
4. 当录音时，RGB LED应当显示紫色常亮，提供录音状态的视觉反馈
5. 当播放音频时，RGB LED应当显示青色，并可根据音频节拍产生律动效果
6. 当电池电量低于20%时，RGB LED应当显示黄色闪烁，提醒用户充电
7. 当发生系统错误时，RGB LED应当显示红色闪烁，并根据错误类型调整闪烁频率
8. 当系统空闲时，RGB LED应当显示绿色呼吸效果，营造生动的宠物感觉
9. 当接收到WebSocket消息时，RGB LED应当产生短暂的颜色变化，表示通信活动
10. 当用户按下按键时，RGB LED应当提供即时的颜色反馈，增强交互体验

### 需求9：设备注册与身份验证功能 【优先级：低】

**用户故事：** 作为系统管理员，我需要确保每个硬件设备都有唯一的身份标识并完成注册验证，以便保证设备与AI大脑通信的安全性和可靠性。

**注意：** 此功能为安全增强功能，优先级较低，建议在基础功能稳定后再进行开发实现。

#### 技术规格
- **唯一码生成**: 基于ESP32-C6 MAC地址 + 设备序列号生成128位唯一设备ID
- **加密算法**: 使用AES-256加密算法保护设备唯一码
- **存储方式**: 唯一码存储在NVS (Non-Volatile Storage)中，支持加密存储
- **注册协议**: 基于HTTPS的设备注册API，支持证书验证
- **验证机制**: 每次通信都需要携带设备唯一码进行身份验证
- **超时设置**: 注册请求超时时间为30秒，验证失败重试3次

#### 设备唯一码生成规则
```
设备唯一码 = SHA256(MAC地址 + 设备型号 + 生产批次 + 随机种子)
格式: CHOOMI-XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX (32字符十六进制)
示例: CHOOMI-A1B2C3D4-E5F6-7890-ABCD-EF1234567890
```

#### 注册流程设计
1. **设备启动检查**: 系统启动时检查NVS中是否存在有效的注册信息
2. **唯一码生成**: 如果未注册，基于硬件信息生成设备唯一码
3. **注册请求**: 向AI大脑服务器发送设备注册请求，包含设备信息和唯一码
4. **服务器验证**: AI大脑验证设备信息并返回注册状态和访问令牌
5. **本地存储**: 注册成功后将唯一码和令牌加密存储到NVS
6. **状态指示**: 通过RGB LED和LCD显示注册状态

#### 通信协议安全机制
- **消息格式**: 所有WebSocket消息必须包含设备唯一码字段
- **指令验证**: 设备接收到指令后必须验证唯一码匹配性
- **令牌刷新**: 访问令牌每24小时自动刷新一次
- **异常处理**: 验证失败时记录日志并拒绝执行指令

#### 验收标准

1. 当设备首次启动时，系统应当自动生成唯一的设备ID并显示在LCD上供用户确认
2. 当设备连接到WiFi后，系统应当自动向AI大脑服务器发送注册请求
3. 当注册成功时，系统应当将设备唯一码和访问令牌安全存储到NVS中
4. 当注册失败时，系统应当在LCD上显示错误信息并通过RGB LED显示红色状态
5. 当设备重启时，系统应当从NVS中读取注册信息并验证有效性
6. 当接收到AI大脑指令时，系统应当验证指令中的设备唯一码是否与本地存储的匹配
7. 当唯一码验证失败时，系统应当拒绝执行指令并记录安全日志
8. 当访问令牌过期时，系统应当自动向服务器请求刷新令牌
9. 当网络连接恢复时，系统应当重新验证设备注册状态
10. 当用户执行恢复出厂设置时，系统应当清除所有注册信息并重新进入注册流程

#### 安全考虑
- **防重放攻击**: 每个指令包含时间戳，超过5分钟的指令将被拒绝
- **防伪造攻击**: 使用数字签名验证指令的完整性
- **设备克隆防护**: 同一唯一码不允许同时在多个设备上注册
- **数据加密**: 敏感数据在传输和存储时都进行AES加密

### 需求10：设备状态管理功能

**用户故事：** 作为用户和系统，我需要了解设备的运行状态，以便进行故障诊断和性能监控。

#### 技术规格
- **状态监测频率**: 每秒更新一次
- **电池检测精度**: ±5%
- **温度监测范围**: -40°C到+85°C
- **日志存储**: NVS存储，最多保存100条错误日志
- **状态上报**: 通过WebSocket实时上报给AI服务器

#### 验收标准

1. 当系统运行时，应当实时监测CPU使用率、内存使用率和芯片温度，并在LCD状态栏显示
2. 当电池供电时，系统应当通过ADC监测电池电量并提供4级电量指示（满电/中等/低电/极低）
3. 当各硬件模块工作时，系统应当检测I2S、SPI、GPIO等外设的工作状态和健康度
4. 当发生异常时，系统应当记录错误日志到NVS存储并尝试自动恢复（重启模块/重新初始化）
5. 当接收到状态查询时，系统应当返回完整的设备状态信息（JSON格式）
6. 当系统资源不足时，系统应当优化资源分配和任务调度，降低非关键任务优先级
7. 当电池电量低于20%时，系统应当进入省电模式，降低CPU频率和屏幕亮度
8. 当系统温度过高时，系统应当自动降频并在LCD上显示温度警告

## 开发环境和工具链

### 开发环境要求
- **ESP-IDF版本**: v5.4.1
- **安装路径**: D:/Espressif/frameworks/esp-idf-v5.4.1/
- **编译器**: Xtensa GCC 8.4.0+
- **目标芯片**: ESP32-C6
- **调试工具**: ESP32-C6开发板内置USB-JTAG
- **烧录工具**: esptool.py
- **监控工具**: ESP-IDF Monitor

### 环境配置
1. **设置ESP-IDF环境变量**:
   ```bash
   # Windows PowerShell
   $env:IDF_PATH = "D:/Espressif/frameworks/esp-idf-v5.4.1"
   
   # 或者运行ESP-IDF环境脚本
   D:/Espressif/frameworks/esp-idf-v5.4.1/export.ps1
   ```

2. **验证环境配置**:
   ```bash
   idf.py --version
   # 应显示: ESP-IDF v5.4.1
   ```

3. **设置目标芯片**:
   ```bash
   idf.py set-target esp32c6
   ```

### 项目结构
```
choomi-hardware/
├── main/                    # 主程序
├── components/              # 组件库
│   ├── audio/              # 音频管理
│   ├── display/            # 显示管理
│   ├── input/              # 输入管理
│   ├── network/            # 网络管理
│   ├── hardware/           # 硬件配置
│   └── font/               # 字体资源
├── build/                   # 编译输出
└── sdkconfig               # 配置文件
```

### 开发流程

#### 1. 环境初始化
```bash
# 进入项目目录
cd "e:\workplace\Choomi\src\Choomi Server\choomi-hardware"

# 设置ESP-IDF环境（每次新开终端都需要执行）
D:/Espressif/frameworks/esp-idf-v5.4.1/export.ps1

# 设置目标芯片（首次配置）
idf.py set-target esp32c6
```

#### 2. 项目配置
```bash
# 打开配置菜单
idf.py menuconfig

# 主要配置项：
# - Component config → ESP32C6-Specific → CPU frequency
# - Component config → FreeRTOS → Tick rate (Hz)
# - Component config → Wi-Fi → WiFi Task Core ID
```

#### 3. 编译和烧录
```bash
# 清理编译缓存（可选）
idf.py fullclean

# 编译项目
idf.py build

# 烧录固件到开发板
idf.py flash

# 烧录并立即开始监控
idf.py flash monitor
```

#### 4. 调试和监控
```bash
# 监控串口输出
idf.py monitor

# 退出监控：Ctrl+]

# 查看分区表
idf.py partition-table

# 擦除flash（恢复出厂设置）
idf.py erase-flash
```

#### 5. 常用开发命令
```bash
# 仅编译不烧录
idf.py build

# 查看项目大小
idf.py size

# 生成编译数据库（用于IDE代码补全）
idf.py build --compile-commands-json
```