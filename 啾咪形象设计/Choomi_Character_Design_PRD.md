# 啾咪宠物形象设计与开机动画 - 产品需求文档 (PRD)

## 文档基本信息

- **项目名称**: Choomi Pet - 啾咪宠物形象设计与开机动画
- **文档版本**: v1.0
- **创建日期**: 2025年1月21日
- **作者**: 项目负责人
- **评审状态**: 待评审
- **目标平台**: ESP32-C6 + 1.47寸LCD (172×320分辨率)

## 1. 产品概述

### 1.1 产品背景
基于前期技术验证成功，啾咪宠物项目已具备完整的LCD显示功能。现需要设计独特的啾咪角色形象，并实现生动的开机动画，为用户提供有趣的虚拟宠物体验。

### 1.2 核心目标
- 设计具有辨识度和亲和力的啾咪角色形象
- 实现流畅的开机动画序列
- 建立啾咪宠物的视觉品牌形象
- 为后续互动功能奠定基础

### 1.3 项目范围
- 啾咪角色形象设计 (静态)
- 开机动画序列设计 (动态)
- 图片资源优化与集成
- 动画播放系统实现

## 2. 用户画像与使用场景

### 2.1 目标用户
- **主要用户**: 电子爱好者、嵌入式开发者
- **次要用户**: 宠物爱好者、创客群体
- **年龄范围**: 18-45岁
- **技术背景**: 具备基础的电子产品使用经验

### 2.2 核心使用场景

#### 场景1: 设备开机启动
- **用户行为**: 给ESP32-C6设备上电
- **期望体验**: 看到可爱的啾咪开机动画
- **情感需求**: 愉悦、惊喜、亲切感

#### 场景2: 日常展示
- **用户行为**: 将设备作为桌面装饰
- **期望体验**: 啾咪形象生动有趣
- **情感需求**: 陪伴感、治愈感

#### 场景3: 技术展示
- **用户行为**: 向他人展示项目成果
- **期望体验**: 专业且有趣的视觉效果
- **情感需求**: 成就感、认同感

## 3. 啾咪角色形象设计需求

### 3.1 角色基本设定

#### 3.1.1 角色名称
- **中文名**: 啾咪 (Jiumi)
- **英文名**: Choomi
- **昵称**: 小啾、咪咪

#### 3.1.2 角色属性
- **物种**: 虚拟电子宠物
- **性格**: 活泼、好奇、友善、聪明
- **年龄**: 永远年轻的数字生命
- **特长**: 陪伴、学习、互动

### 3.2 视觉设计要求

#### 3.2.1 整体风格
- **设计风格**: 可爱、简约、现代
- **色彩基调**: 温暖明亮，以蓝色、橙色为主色调
- **造型特点**: 圆润、亲和、具有科技感
- **表情特征**: 大眼睛、微笑、生动有神

#### 3.2.2 具体设计元素

**头部设计**:
- 圆润的头型，比例协调
- 大而明亮的眼睛 (占头部1/3)
- 小巧的嘴巴，常带微笑
- 可选择性添加小耳朵或触角

**身体设计**:
- 简洁的身体轮廓
- 可爱的小手小脚
- 身体可包含简单的科技元素 (如LED指示灯图案)

**色彩方案**:
- **主色**: 天空蓝 (#87CEEB)
- **辅色**: 温暖橙 (#FFA500)
- **点缀色**: 纯白 (#FFFFFF)
- **阴影色**: 深蓝灰 (#4682B4)

### 3.3 技术规格要求

#### 3.3.1 图片规格
- **静态形象**: 120×120像素 (推荐)
- **颜色格式**: RGB565 (16位)
- **文件大小**: 不超过30KB
- **背景**: 透明或纯色背景

#### 3.3.2 多状态设计
- **基础状态**: 正常站立姿态
- **开心状态**: 眼睛弯成月牙形
- **思考状态**: 头部微微倾斜
- **睡眠状态**: 闭眼状态

## 4. 开机动画设计需求

### 4.1 动画概念设计

#### 4.1.1 动画主题
- **主题**: "啾咪的数字觉醒"
- **概念**: 从像素点汇聚成完整的啾咪形象
- **寓意**: 数字生命的诞生与成长

#### 4.1.2 动画流程

**阶段1: 系统启动 (0-1秒)**
- 屏幕从黑色渐变到深蓝色
- 显示 "Choomi Pet" 文字
- 简单的加载动画

**阶段2: 像素汇聚 (1-3秒)**
- 彩色像素点从屏幕四周向中心汇聚
- 像素点逐渐组成啾咪的轮廓
- 伴随闪烁效果

**阶段3: 形象显现 (3-4秒)**
- 啾咪形象完整显现
- 眼睛从闭合到睁开
- 轻微的呼吸动画

**阶段4: 欢迎互动 (4-5秒)**
- 啾咪挥手动作
- 显示欢迎文字
- 过渡到主界面

### 4.2 技术实现要求

#### 4.2.1 动画规格
- **总时长**: 5秒
- **帧率**: 10-15 FPS
- **分辨率**: 172×320像素
- **颜色深度**: RGB565

#### 4.2.2 性能要求
- **内存占用**: 不超过100KB
- **CPU占用**: 不超过80%
- **流畅度**: 无明显卡顿
- **加载时间**: 启动后1秒内开始播放

#### 4.2.3 实现方案

**方案A: 帧动画序列**
- 预制关键帧图片
- 使用LVGL动画API
- 适合复杂动画效果

**方案B: 程序化动画**
- 使用数学函数生成动画
- 实时计算位置和颜色
- 节省存储空间

**推荐方案**: 混合方案
- 关键帧 + 程序化补间
- 平衡效果与性能

## 5. 功能需求列表

### 5.1 核心功能需求

| 功能ID | 功能名称 | 优先级 | 描述 |
|--------|----------|--------|------|
| F001 | 啾咪静态形象显示 | P0 | 显示设计好的啾咪角色形象 |
| F002 | 开机动画播放 | P0 | 设备启动时播放完整动画序列 |
| F003 | 动画流畅控制 | P0 | 确保动画播放流畅无卡顿 |
| F004 | 多状态形象切换 | P1 | 支持不同情绪状态的形象 |
| F005 | 动画跳过功能 | P1 | 用户可选择跳过开机动画 |
| F006 | 低功耗模式 | P2 | 动画播放完成后进入节能模式 |

### 5.2 非功能性需求

#### 5.2.1 性能需求
- **启动时间**: 从上电到动画开始 ≤ 2秒
- **动画流畅度**: 帧率稳定在10-15 FPS
- **内存使用**: 总内存占用 ≤ 150KB
- **功耗控制**: 动画播放时功耗 ≤ 200mA

#### 5.2.2 兼容性需求
- **硬件兼容**: 支持ESP32-C6 + 1.47寸LCD
- **软件兼容**: 基于ESP-IDF v5.4.1 + LVGL v8.x
- **扩展性**: 预留接口支持后续功能扩展

#### 5.2.3 可靠性需求
- **稳定性**: 连续运行24小时无异常
- **错误处理**: 动画加载失败时显示默认图像
- **恢复机制**: 支持软件重启恢复

## 6. 数据需求与接口说明

### 6.1 图片资源管理

#### 6.1.1 文件结构
```
images/
├── choomi/
│   ├── choomi_normal.jpg      # 基础状态
│   ├── choomi_happy.jpg       # 开心状态
│   ├── choomi_thinking.jpg    # 思考状态
│   └── choomi_sleeping.jpg    # 睡眠状态
└── animation/
    ├── frame_01.jpg           # 动画帧1
    ├── frame_02.jpg           # 动画帧2
    └── ...
```

#### 6.1.2 代码集成
```c
// 啾咪形象资源声明
LV_IMG_DECLARE(choomi_normal);
LV_IMG_DECLARE(choomi_happy);
LV_IMG_DECLARE(choomi_thinking);
LV_IMG_DECLARE(choomi_sleeping);

// 动画帧资源声明
LV_IMG_DECLARE(anim_frame_01);
LV_IMG_DECLARE(anim_frame_02);
// ...
```

### 6.2 动画控制接口

#### 6.2.1 核心API设计
```c
// 动画控制结构体
typedef struct {
    lv_obj_t* container;        // 动画容器
    lv_anim_t anim;            // LVGL动画对象
    uint8_t current_frame;      // 当前帧
    uint8_t total_frames;       // 总帧数
    bool is_playing;           // 播放状态
} choomi_animation_t;

// 动画控制函数
void choomi_animation_init(void);           // 初始化动画系统
void choomi_animation_start(void);          // 开始播放动画
void choomi_animation_stop(void);           // 停止播放动画
void choomi_animation_pause(void);          // 暂停动画
void choomi_animation_resume(void);         // 恢复动画
void choomi_set_state(choomi_state_t state); // 设置啾咪状态
```

## 7. 验收标准

### 7.1 形象设计验收标准

| 验收项 | 标准 | 验收方法 |
|--------|------|----------|
| 视觉效果 | 形象可爱、辨识度高 | 用户调研评分 ≥ 4.0/5.0 |
| 技术规格 | 符合120×120像素、RGB565格式 | 技术检查 |
| 文件大小 | 单个图片 ≤ 30KB | 文件属性检查 |
| 显示效果 | 在LCD上显示清晰无失真 | 实机测试 |

### 7.2 动画功能验收标准

| 验收项 | 标准 | 验收方法 |
|--------|------|----------|
| 播放流畅度 | 帧率稳定10-15 FPS | 性能监控 |
| 启动时间 | 上电到动画开始 ≤ 2秒 | 计时测试 |
| 内存占用 | 总占用 ≤ 150KB | 内存监控 |
| 稳定性 | 连续播放100次无异常 | 压力测试 |

### 7.3 用户体验验收标准

| 验收项 | 标准 | 验收方法 |
|--------|------|----------|
| 情感共鸣 | 用户喜爱度 ≥ 80% | 用户访谈 |
| 操作便利性 | 无需用户干预自动播放 | 易用性测试 |
| 视觉冲击力 | 首次观看印象深刻 | 用户反馈 |

## 8. 版本规划与MVP拆解

### 8.1 版本规划

#### V1.0 - MVP版本 (当前目标)
- **时间**: 1-2周
- **内容**: 基础啾咪形象 + 简单开机动画
- **目标**: 验证设计概念和技术可行性

#### V1.1 - 增强版本
- **时间**: 3-4周
- **内容**: 多状态形象 + 复杂动画效果
- **目标**: 提升用户体验和视觉效果

#### V2.0 - 完整版本
- **时间**: 2-3个月
- **内容**: 交互功能 + 个性化设置
- **目标**: 完整的虚拟宠物体验

### 8.2 MVP功能拆解

#### 第一阶段 (Week 1)
- [ ] 啾咪角色形象设计
- [ ] 基础静态图片制作
- [ ] 图片格式转换和集成
- [ ] 静态显示功能实现

#### 第二阶段 (Week 2)
- [ ] 开机动画设计
- [ ] 动画帧制作
- [ ] 动画播放系统开发
- [ ] 整体功能测试

## 9. 风险评估与应对策略

### 9.1 技术风险

| 风险项 | 概率 | 影响度 | 应对策略 |
|--------|------|--------|----------|
| 内存不足 | 中 | 高 | 优化图片压缩，分帧加载 |
| 动画卡顿 | 中 | 中 | 降低帧率，简化动画 |
| 显示异常 | 低 | 高 | 充分测试，备用方案 |

### 9.2 设计风险

| 风险项 | 概率 | 影响度 | 应对策略 |
|--------|------|--------|----------|
| 形象不受欢迎 | 中 | 中 | 用户调研，迭代优化 |
| 动画效果差 | 低 | 中 | 专业设计，多方案对比 |
| 版权问题 | 低 | 高 | 原创设计，法务审查 |

### 9.3 进度风险

| 风险项 | 概率 | 影响度 | 应对策略 |
|--------|------|--------|----------|
| 设计周期长 | 中 | 中 | 并行开发，分阶段交付 |
| 技术难度高 | 低 | 高 | 技术预研，降级方案 |
| 资源不足 | 低 | 中 | 外部协作，优先级调整 |

## 10. 项目里程碑

### 10.1 关键节点

| 里程碑 | 时间节点 | 交付物 | 验收标准 |
|--------|----------|--------|----------|
| M1: 形象设计完成 | Week 1 | 啾咪角色设计稿 | 设计评审通过 |
| M2: 静态显示实现 | Week 1 | 静态图片显示功能 | 实机测试通过 |
| M3: 动画设计完成 | Week 2 | 开机动画设计稿 | 动画评审通过 |
| M4: 动画功能实现 | Week 2 | 完整动画播放功能 | 功能测试通过 |
| M5: 整体验收 | Week 2 | 完整产品 | 验收标准达成 |

### 10.2 交付计划

**第一周交付**:
- 啾咪角色形象设计文档
- 静态图片资源文件
- 静态显示功能代码
- 技术验证报告

**第二周交付**:
- 开机动画设计文档
- 动画资源文件
- 动画播放功能代码
- 完整测试报告
- 用户使用手册

---

## 附录

### A. 参考资料
- LVGL官方文档: https://docs.lvgl.io/
- ESP32-C6技术手册
- 1.47寸LCD规格书
- 虚拟宠物设计最佳实践

### B. 术语表
- **啾咪 (Jiumi)**: 项目虚拟宠物角色名称
- **RGB565**: 16位颜色格式，5位红色+6位绿色+5位蓝色
- **LVGL**: Light and Versatile Graphics Library
- **FPS**: Frames Per Second，每秒帧数

### C. 变更记录
| 版本 | 日期 | 变更内容 | 变更人 |
|------|------|----------|--------|
| v1.0 | 2025-01-21 | 初始版本创建 | 项目负责人 |

---

**文档状态**: 待评审  
**下一步行动**: 开始啾咪角色形象设计工作